{
  "type": "object",
  "properties": {
    "sourceQueryHandle": {
      "type": "string",
      "description": "Source query handle from query-wiql"
    },
    "targetQueryHandle": {
      "type": "string",
      "description": "Target query handle from query-wiql"
    },
    "linkType": {
      "type": "string",
      "enum": [
        "Related",
        "Parent",
        "Child",
        "Predecessor",
        "Successor",
        "Affects",
        "Affected By"
      ],
      "description": "Type of relationship to create"
    },
    "sourceItemSelector": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "all"
          ]
        },
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "object",
          "properties": {
            "states": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "titleContains": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "daysInactiveMin": {
              "type": "number"
            },
            "daysInactiveMax": {
              "type": "number"
            }
          }
        }
      ],
      "description": "Select specific source items (default: all)"
    },
    "targetItemSelector": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "all"
          ]
        },
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "object",
          "properties": {
            "states": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "titleContains": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "daysInactiveMin": {
              "type": "number"
            },
            "daysInactiveMax": {
              "type": "number"
            }
          }
        }
      ],
      "description": "Select specific target items (default: all)"
    },
    "linkStrategy": {
      "type": "string",
      "enum": [
        "one-to-one",
        "one-to-many",
        "many-to-one",
        "many-to-many"
      ],
      "description": "Link strategy (default: one-to-one)"
    },
    "comment": {
      "type": "string",
      "description": "Optional comment to add to all linked work items"
    },
    "skipExistingLinks": {
      "type": "boolean",
      "description": "Skip links that already exist (default true)"
    },
    "dryRun": {
      "type": "boolean",
      "description": "Preview operation without making changes (default true)"
    },
    "maxPreviewItems": {
      "type": "number",
      "description": "Maximum link operations to preview (default 10)"
    }
  },
  "required": [
    "sourceQueryHandle",
    "targetQueryHandle",
    "linkType"
  ],
  "$id": "#/components/schemas/link-workitems",
  "title": "link-workitems",
  "description": "üîê HANDLE-BASED LINKING: Create relationships between work items identified by two query handles. Supports multiple link types (Related, Parent, Child, Predecessor, Successor) and strategies (one-to-one, one-to-many, many-to-one, many-to-many). Essential for bulk relationship creation without ID hallucination risk.",
  "category": "Query Handles",
  "aiPowered": false
}