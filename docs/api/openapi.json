{
  "openapi": "3.0.0",
  "info": {
    "title": "Enhanced ADO MCP Server API",
    "version": "1.5.0",
    "description": "# Enhanced Azure DevOps MCP Server\n\nAI-powered Azure DevOps work item management via Model Context Protocol.\n\n## Features\n\n- **Work Item Operations**: Create, update, and manage Azure DevOps work items\n- **AI-Powered Analysis**: Intelligent work item analysis, decomposition, and enhancement\n- **Query Generation**: Natural language to WIQL/OData query conversion\n- **Bulk Operations**: Safe bulk updates using query handle pattern\n- **Security Analysis**: Extract and analyze security findings\n- **Sprint Planning**: AI-powered sprint planning and analysis\n- **Context Retrieval**: Comprehensive work item context packages\n\n## Authentication\n\nThis server uses Azure CLI authentication. Run `az login` before using any tools.\n\n## Tool Categories\n\n### Work Item Operations\nBasic CRUD operations for Azure DevOps work items.\n\n### AI-Powered Analysis\nTools that use LLM sampling for intelligent analysis and recommendations.\nThese require VS Code Language Model API access.\n\n### Query Generation\nConvert natural language descriptions to WIQL or OData queries with validation.\n\n### Bulk Operations\nSafe bulk updates using the query handle pattern to prevent ID hallucination.\n\n### Query Handles\nManage query handles for safe bulk operations.\n\n## Configuration\n\nTools automatically use configuration from `.ado-mcp-config.json` for:\n- organization\n- project\n- areaPath\n- iterationPath\n- defaultWorkItemType\n- defaultAssignedTo\n- defaultPriority\n\nOnly provide these parameters to override defaults.",
    "contact": {
      "name": "Amelia Payne",
      "url": "https://github.com/AmeliaRose802"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "mcp://enhanced-ado-mcp",
      "description": "MCP Server"
    }
  ],
  "tags": [
    {
      "name": "Work Item Operations",
      "description": "Basic CRUD operations for work items"
    },
    {
      "name": "AI-Powered Analysis",
      "description": "Intelligent analysis using LLM sampling"
    },
    {
      "name": "Query Generation",
      "description": "Natural language to WIQL/OData conversion"
    },
    {
      "name": "Bulk Operations",
      "description": "Safe bulk updates using query handles"
    },
    {
      "name": "Query Handles",
      "description": "Query handle management"
    },
    {
      "name": "Context Retrieval",
      "description": "Comprehensive work item context"
    },
    {
      "name": "Copilot Integration",
      "description": "GitHub Copilot integration"
    },
    {
      "name": "Security Analysis",
      "description": "Security findings extraction"
    },
    {
      "name": "Configuration",
      "description": "Server configuration"
    },
    {
      "name": "Discovery",
      "description": "Tool and resource discovery"
    },
    {
      "name": "Validation",
      "description": "Data validation tools"
    },
    {
      "name": "Queries",
      "description": "WIQL and OData queries"
    }
  ],
  "paths": {
    "/tools/create-workitem": {
      "post": {
        "summary": "create-workitem",
        "description": "Create a new Azure DevOps work item with parent relationship. Supports templates from .ado/templates/ directory for pre-filling fields and structure. IMPORTANT: All work item types except 'Epic' and 'Key Result' REQUIRE a parent. Use 'analyze-bulk' with analysisType=['parent-recommendation'] to find suitable parents if you don't have a parentWorkItemId. Returns a query handle for the created item to enable immediate bulk operations. organization, project, workItemType, priority, assignedTo, areaPath, iterationPath, and inheritParentPaths are automatically filled from configuration - only provide them to override defaults.",
        "operationId": "create_workitem",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Title of the work item (required unless using template)"
                  },
                  "template": {
                    "type": "string",
                    "description": "Name of template to use (from .ado/templates/). If provided, template fields will be merged with other parameters."
                  },
                  "variables": {
                    "type": "object",
                    "description": "Key-value pairs for template variable substitution (e.g., {title}, {assignee}). Variables replace {variable} placeholders in template content.",
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "parentWorkItemId": {
                    "type": "number",
                    "description": "Parent work item ID (REQUIRED for all types except Epic and Key Result). Use 'analyze-bulk' with analysisType=['parent-recommendation'] to find suitable parents."
                  },
                  "description": {
                    "type": "string",
                    "description": "Markdown description / repro steps"
                  },
                  "tags": {
                    "type": "string",
                    "description": "Semicolon or comma separated tags"
                  },
                  "workItemType": {
                    "type": "string",
                    "description": "Override default work item type from config or template"
                  },
                  "areaPath": {
                    "type": "string",
                    "description": "Override default area path from config"
                  },
                  "iterationPath": {
                    "type": "string",
                    "description": "Override default iteration path from config"
                  },
                  "assignedTo": {
                    "type": "string",
                    "description": "Override default assignee from config"
                  },
                  "priority": {
                    "type": "number",
                    "description": "Override default priority from config or template"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/assign-copilot": {
      "post": {
        "summary": "assign-copilot",
        "description": "Assign an existing Azure DevOps work item to GitHub Copilot and add branch link. Optionally specify a specialized Copilot agent using the specializedAgent parameter. organization, project, branch, and gitHubCopilotGuid are automatically filled from configuration - only provide them to override defaults.",
        "operationId": "assign_copilot",
        "tags": [
          "Copilot Integration"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workItemId": {
                    "type": "number",
                    "description": "Existing work item ID to assign"
                  },
                  "repository": {
                    "type": "string",
                    "description": "Git repository name (required)"
                  },
                  "branch": {
                    "type": "string",
                    "description": "Override default branch from config"
                  },
                  "gitHubCopilotGuid": {
                    "type": "string",
                    "description": "Override default GitHub Copilot GUID from config"
                  },
                  "specializedAgent": {
                    "type": "string",
                    "description": "Optional specialized Copilot agent name (e.g., 'ComponentGovernanceAgent'). Will be added as tag 'copilot:agent=<name>'"
                  }
                },
                "required": [
                  "workItemId",
                  "repository"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-context": {
      "post": {
        "summary": "get-context",
        "description": "Retrieve a comprehensive context package for a single work item including core fields, description, acceptance criteria, parent, children, related links, comments, recent history, and optionally PRs/commits and attachments in one call.",
        "operationId": "get_context",
        "tags": [
          "Context Retrieval"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workItemId": {
                    "type": "number",
                    "description": "Primary work item ID to retrieve full context for"
                  },
                  "includeHistory": {
                    "type": "boolean",
                    "description": "Include recent change history (disabled by default to save ~40KB per work item)"
                  },
                  "maxHistoryRevisions": {
                    "type": "number",
                    "description": "Maximum number of recent history revisions to include when history is enabled (sorted by revision number descending)"
                  },
                  "includeComments": {
                    "type": "boolean",
                    "description": "Include work item comments/discussion"
                  },
                  "includeRelations": {
                    "type": "boolean",
                    "description": "Include related links (parent, children, related, attachments, commits, PRs)"
                  },
                  "includeChildren": {
                    "type": "boolean",
                    "description": "Include all child hierarchy (one level) if item is a Feature/Epic"
                  },
                  "includeParent": {
                    "type": "boolean",
                    "description": "Include parent work item details if present"
                  },
                  "includeLinkedPRsAndCommits": {
                    "type": "boolean",
                    "description": "Include linked Git PRs and commits if present in relations"
                  },
                  "includeExtendedFields": {
                    "type": "boolean",
                    "description": "Include extended field set beyond defaults"
                  },
                  "includeHtml": {
                    "type": "boolean",
                    "description": "Return original HTML field values alongside Markdown/plain text"
                  },
                  "maxChildDepth": {
                    "type": "number",
                    "description": "Depth of child hierarchy to traverse (1 = immediate children)"
                  },
                  "maxRelatedItems": {
                    "type": "number",
                    "description": "Maximum number of related items to expand"
                  },
                  "includeAttachments": {
                    "type": "boolean",
                    "description": "Include attachment metadata (names, urls, sizes)"
                  },
                  "includeTags": {
                    "type": "boolean",
                    "description": "Include tags list"
                  }
                },
                "required": [
                  "workItemId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/extract-security-links": {
      "post": {
        "summary": "extract-security-links",
        "description": "Extract instruction links from security scan work items. Use this tool when: 1) Items have 'CG' or 'Component Governance' tags, 2) Titles contain '[Component Governance Alert]' or security scanner names (BinSkim, CodeQL, CredScan), 3) You need to extract remediation documentation URLs, 4) Working with security compliance or vulnerability findings. Sample 5-10 items max to avoid API rate limits. organization and project are automatically filled from configuration - only provide them to override defaults.",
        "operationId": "extract_security_links",
        "tags": [
          "Security Analysis"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workItemId": {
                    "type": "number",
                    "description": "Azure DevOps work item ID to extract instruction links from"
                  },
                  "scanType": {
                    "type": "string",
                    "enum": [
                      "BinSkim",
                      "CodeQL",
                      "CredScan",
                      "General",
                      "All"
                    ],
                    "description": "Type of security scanner to filter links for"
                  },
                  "includeWorkItemDetails": {
                    "type": "boolean",
                    "description": "Include detailed work item information in the response"
                  },
                  "extractFromComments": {
                    "type": "boolean",
                    "description": "Also extract links from work item comments"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Run in dry-run mode without making actual API calls"
                  }
                },
                "required": [
                  "workItemId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/query-wiql": {
      "post": {
        "summary": "query-wiql",
        "description": "üîê UNIFIED WIQL TOOL: Execute WIQL queries (direct or AI-generated from natural language) and get both work item details AND a query handle for safe bulk operations. TWO MODES: (1) handleOnly=true: returns ONLY query handle + count (efficient, use inspect-handle to get data later), (2) handleOnly=false (default): returns handle + full work item data immediately. Supports AI-powered query generation with automatic validation. ‚ö†Ô∏è CRITICAL: Do not reference work item IDs directly - use the returned query_handle to prevent ID hallucination. When using handleOnly=true, DO NOT add includeFields, includeSubstantiveChange, or maxResults parameters - they are ignored in that mode.",
        "operationId": "query_wiql",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string",
                    "description": "ü§ñ AI-POWERED: Natural language description of what you want to find (e.g., 'all active bugs created in the last week', 'unassigned items in committed state'). When provided, the tool will generate and validate a WIQL query automatically."
                  },
                  "wiqlQuery": {
                    "type": "string",
                    "description": "Direct WIQL query string. Examples: 'SELECT [System.Id] FROM WorkItems WHERE [System.State] = 'Active'' or 'SELECT [System.Id] FROM WorkItems WHERE [System.AreaPath] UNDER 'ProjectName\\AreaName' ORDER BY [System.ChangedDate] DESC'. Use this when you know the exact WIQL syntax you need."
                  },
                  "includeExamples": {
                    "type": "boolean",
                    "description": "ü§ñ Include example patterns in AI prompt when generating queries (default true). Only relevant when using 'description' parameter."
                  },
                  "maxIterations": {
                    "type": "number",
                    "description": "ü§ñ Maximum attempts to generate valid query when using AI generation (1-5, default 3). Only relevant when using 'description' parameter."
                  },
                  "testQuery": {
                    "type": "boolean",
                    "description": "ü§ñ Test generated query by executing it to validate syntax (default true). Only relevant when using 'description' parameter."
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name (uses configured default if not provided)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name (uses configured default if not provided)"
                  },
                  "areaPath": {
                    "type": "string",
                    "description": "Override default area path from config (automatically scopes queries to configured area)"
                  },
                  "areaPathFilter": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Explicitly specify area paths to filter by (e.g., ['ProjectA\\\\TeamAlpha', 'ProjectA\\\\TeamBeta']). Takes precedence over default area paths and areaPath parameter. Use this when working with multiple specific area paths."
                  },
                  "useDefaultAreaPaths": {
                    "type": "boolean",
                    "description": "Control whether to automatically filter by default area paths from configuration (default: true). Set to false to query across the entire project without area path filtering. Ignored if areaPathFilter is explicitly provided. Use this when you need to query across all areas or when default filtering is causing issues."
                  },
                  "iterationPath": {
                    "type": "string",
                    "description": "Override default iteration path from config"
                  },
                  "returnQueryHandle": {
                    "type": "boolean",
                    "description": "üîê DEFAULT TRUE: Return query handle for safe operations. ‚ö†Ô∏è Only set to false if you need raw IDs for immediate user display. For analysis, bulk operations, or any workflow that might reference IDs later, keep this true to prevent hallucination. Handle expires after 1 hour."
                  },
                  "handleOnly": {
                    "type": "boolean",
                    "description": "‚ö° EFFICIENCY MODE: When true (with returnQueryHandle=true), returns ONLY the query handle and count without fetching full work item data. Use this for bulk operations where you don't need to preview/analyze items first - saves API calls and response payload. To retrieve items later, use inspect-handle with the handle. Default: false. ‚ö†Ô∏è When true, includeFields, includeSubstantiveChange, and fetchFullPackages parameters are IGNORED."
                  },
                  "maxResults": {
                    "type": "number",
                    "description": "Maximum number of results to return per page (default 200, max 10000). ‚ö†Ô∏è Results are truncated at this limit - use pagination for more. Has NO EFFECT when handleOnly=true."
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of work items to skip for pagination (default 0). Example: skip=200, maxResults=200 gets items 201-400."
                  },
                  "top": {
                    "type": "number",
                    "description": "Maximum number of work items to return (alias for maxResults, max 10000). When specified, overrides maxResults."
                  },
                  "includeFields": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "‚ö†Ô∏è ONLY USED WHEN handleOnly=false: Additional fields to include in work item data (e.g., 'System.Description', 'Microsoft.VSTS.Common.Priority'). Has NO EFFECT when handleOnly=true - in that mode, use inspect-handle or get-context-bulk to retrieve specific fields."
                  },
                  "includeSubstantiveChange": {
                    "type": "boolean",
                    "description": "‚ö†Ô∏è ONLY USED WHEN handleOnly=false: Include computed fields lastSubstantiveChangeDate and daysInactive for each work item - automatically filters out automated changes. Essential for backlog hygiene workflows. Has NO EFFECT when handleOnly=true - substantive change data must be calculated separately."
                  },
                  "fetchFullPackages": {
                    "type": "boolean",
                    "description": "‚ö†Ô∏è ONLY USED WHEN handleOnly=false: Fetch full context packages for each work item including description, comments, history, relations, children, and parent. ‚ö†Ô∏è WARNING: Increases API calls significantly (1 call per work item + relations/comments). Use for deep analysis of small result sets (<50 items). Automatically includes extended fields, relations, comments, and history."
                  },
                  "filterByPatterns": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "duplicates",
                        "placeholder_titles",
                        "unassigned_committed",
                        "stale_automation",
                        "missing_description",
                        "missing_acceptance_criteria"
                      ]
                    },
                    "description": "Filter results by common work item patterns. 'duplicates': similar titles (case-insensitive comparison). 'placeholder_titles': contains TBD/TODO/FIXME/XXX/test/temp/foo/bar/baz markers. 'unassigned_committed': Active/Committed/In Progress state but no assignee. 'stale_automation': Automation-created items ([S360]/[automated]/[bot]/[scan]) inactive 180+ days. 'missing_description': description field empty or <10 chars. 'missing_acceptance_criteria': acceptance criteria field empty or <10 chars. Can specify multiple patterns to filter by all."
                  },
                  "filterByDaysInactiveMin": {
                    "type": "number",
                    "description": "Filter results to only include work items with daysInactive >= this value. Auto-enables includeSubstantiveChange. Use for finding stale items (e.g., 180 for items inactive 6+ months)."
                  },
                  "filterByDaysInactiveMax": {
                    "type": "number",
                    "description": "Filter results to only include work items with daysInactive <= this value. Auto-enables includeSubstantiveChange. Use for finding recently active items (e.g., 30 for items active in last month)."
                  },
                  "filterBySubstantiveChangeAfter": {
                    "type": "string",
                    "description": "Filter results to only include work items with lastSubstantiveChangeDate after this date (ISO 8601 format, e.g., '2024-01-01T00:00:00Z'). Auto-enables includeSubstantiveChange. Use for finding recently active items."
                  },
                  "filterBySubstantiveChangeBefore": {
                    "type": "string",
                    "description": "Filter results to only include work items with lastSubstantiveChangeDate before this date (ISO 8601 format). Auto-enables includeSubstantiveChange. Use for finding stale items."
                  },
                  "includePaginationDetails": {
                    "type": "boolean",
                    "description": "Force include pagination details in response even for complete result sets. By default, pagination is only included when totalCount > maxResults (multi-page results). Set to true to always include pagination metadata."
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/query-odata": {
      "post": {
        "summary": "query-odata",
        "description": "üîê UNIFIED ODATA TOOL: Execute OData Analytics queries (direct or AI-generated from natural language) for metrics, aggregations, and trend analysis. Supports both predefined query types (counts, grouping by state/type/assignee, velocity metrics) and custom queries. AI-powered query generation validates and tests queries automatically. For aggregation queries, returns statistical summaries. For work item list queries, can return query handles for safe bulk operations. Requires 'View analytics' permission in Azure DevOps.",
        "operationId": "query_odata",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string",
                    "description": "ü§ñ AI-POWERED: Natural language description of analytics query (e.g., 'count active bugs by assignee', 'velocity metrics for last sprint'). When provided, the tool will generate and validate an OData query automatically."
                  },
                  "queryType": {
                    "type": "string",
                    "enum": [
                      "workItemCount",
                      "groupByState",
                      "groupByType",
                      "groupByAssignee",
                      "velocityMetrics",
                      "cycleTimeMetrics",
                      "customQuery"
                    ],
                    "description": "Predefined query type for direct execution. workItemCount: count of items. groupByState/Type/Assignee: grouped aggregations. velocityMetrics: completed work over time. cycleTimeMetrics: time from creation to completion."
                  },
                  "customODataQuery": {
                    "type": "string",
                    "description": "Custom OData query string for advanced scenarios. Use OData v4.0 syntax with $filter, $apply, $select, $orderby, etc."
                  },
                  "includeExamples": {
                    "type": "boolean",
                    "description": "ü§ñ Include example patterns in AI prompt when generating queries (default true). Only relevant when using 'description' parameter."
                  },
                  "maxIterations": {
                    "type": "number",
                    "description": "ü§ñ Maximum attempts to generate valid query when using AI generation (1-5, default 3). Only relevant when using 'description' parameter."
                  },
                  "testQuery": {
                    "type": "boolean",
                    "description": "ü§ñ Test generated query by executing it to validate syntax (default true). Only relevant when using 'description' parameter."
                  },
                  "filters": {
                    "type": "object",
                    "description": "Filter conditions (e.g., { State: 'Active', WorkItemType: 'Bug' })"
                  },
                  "groupBy": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Fields to group by for aggregation"
                  },
                  "select": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Specific fields to return"
                  },
                  "orderBy": {
                    "type": "string",
                    "description": "Field to order results by (e.g., 'Count desc')"
                  },
                  "dateRangeField": {
                    "type": "string",
                    "enum": [
                      "CreatedDate",
                      "ChangedDate",
                      "CompletedDate",
                      "ClosedDate"
                    ],
                    "description": "Date field to filter by"
                  },
                  "dateRangeStart": {
                    "type": "string",
                    "description": "Start date (ISO 8601: YYYY-MM-DD)"
                  },
                  "dateRangeEnd": {
                    "type": "string",
                    "description": "End date (ISO 8601: YYYY-MM-DD)"
                  },
                  "computeCycleTime": {
                    "type": "boolean",
                    "description": "Compute cycle time for completed items (used with cycleTimeMetrics)"
                  },
                  "returnQueryHandle": {
                    "type": "boolean",
                    "description": "üîê Return query handle for safe bulk operations (default false). Only works for non-aggregation queries that return work item lists. Aggregation queries always return statistical summaries."
                  },
                  "maxResults": {
                    "type": "number",
                    "description": "Maximum results when returnQueryHandle=true (default 200, max 1000)"
                  },
                  "includeFields": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Additional fields to include when returnQueryHandle=true"
                  },
                  "top": {
                    "type": "number",
                    "description": "Maximum number of results for analytics queries (default 1000, max 10000)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of results to skip for pagination (default 0)"
                  },
                  "includeMetadata": {
                    "type": "boolean",
                    "description": "Include query and URL metadata in response (default false)"
                  },
                  "includeOdataMetadata": {
                    "type": "boolean",
                    "description": "Include OData metadata fields (@odata.*) in response (default false)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name (uses configured default if not provided)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name (uses configured default if not provided)"
                  },
                  "areaPath": {
                    "type": "string",
                    "description": "Filter by Area Path"
                  },
                  "areaPathFilter": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Explicitly specify area paths to filter by (e.g., ['ProjectA\\\\TeamAlpha', 'ProjectA\\\\TeamBeta']). Takes precedence over default area paths."
                  },
                  "useDefaultAreaPaths": {
                    "type": "boolean",
                    "description": "Control whether to automatically filter by default area paths from configuration (default: true). Set to false to query across the entire project without area path filtering."
                  },
                  "iterationPath": {
                    "type": "string",
                    "description": "Filter by Iteration Path"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/execute-bulk-operations": {
      "post": {
        "summary": "execute-bulk-operations",
        "description": "üéØ UNIFIED BULK OPERATIONS: Perform multiple operations (comment, update, assign, remove, transition-state, move-iteration, change-type, add-tag, remove-tag, enhance-descriptions, assign-story-points, add-acceptance-criteria) on work items identified by a query handle. Consolidates all bulk operations into a single tool that accepts an array of actions to execute sequentially. Supports dry-run mode, error handling strategies, item selection, and AI-powered enhancements. Reduces tool confusion by providing one entry point for all bulk modifications.",
        "operationId": "execute_bulk_operations",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from wit-wiql-query with returnQueryHandle=true"
                  },
                  "actions": {
                    "type": "array",
                    "description": "Array of actions to perform sequentially on selected work items",
                    "items": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "comment"
                            },
                            "comment": {
                              "type": "string",
                              "description": "Comment text (supports Markdown)"
                            }
                          },
                          "required": [
                            "type",
                            "comment"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "update"
                            },
                            "updates": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "op": {
                                    "type": "string",
                                    "enum": [
                                      "add",
                                      "replace",
                                      "remove"
                                    ]
                                  },
                                  "path": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "op",
                                  "path"
                                ]
                              }
                            }
                          },
                          "required": [
                            "type",
                            "updates"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "assign"
                            },
                            "assignTo": {
                              "type": "string"
                            },
                            "comment": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "assignTo"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "remove"
                            },
                            "removeReason": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "transition-state"
                            },
                            "targetState": {
                              "type": "string"
                            },
                            "reason": {
                              "type": "string"
                            },
                            "comment": {
                              "type": "string"
                            },
                            "validateTransitions": {
                              "type": "boolean"
                            },
                            "skipInvalidTransitions": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "type",
                            "targetState"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "move-iteration"
                            },
                            "targetIterationPath": {
                              "type": "string"
                            },
                            "comment": {
                              "type": "string"
                            },
                            "updateChildItems": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "type",
                            "targetIterationPath"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "change-type"
                            },
                            "targetType": {
                              "type": "string"
                            },
                            "validateTypeChanges": {
                              "type": "boolean"
                            },
                            "skipInvalidChanges": {
                              "type": "boolean"
                            },
                            "preserveFields": {
                              "type": "boolean"
                            },
                            "comment": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "targetType"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "add-tag"
                            },
                            "tags": {
                              "type": "string",
                              "description": "Semicolon-separated tags to add"
                            }
                          },
                          "required": [
                            "type",
                            "tags"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "remove-tag"
                            },
                            "tags": {
                              "type": "string",
                              "description": "Semicolon-separated tags to remove"
                            }
                          },
                          "required": [
                            "type",
                            "tags"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "enhance-descriptions"
                            },
                            "enhancementStyle": {
                              "type": "string",
                              "enum": [
                                "concise",
                                "detailed",
                                "technical",
                                "business"
                              ],
                              "description": "Enhancement style (default: detailed)"
                            },
                            "preserveOriginal": {
                              "type": "boolean",
                              "description": "Append to existing description instead of replacing"
                            },
                            "minConfidenceScore": {
                              "type": "number",
                              "description": "Minimum confidence to apply enhancement (default: 0.6)"
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "assign-story-points"
                            },
                            "estimationScale": {
                              "type": "string",
                              "enum": [
                                "fibonacci",
                                "powers-of-2",
                                "linear",
                                "t-shirt"
                              ],
                              "description": "Estimation scale (default: fibonacci)"
                            },
                            "includeReasoning": {
                              "type": "boolean",
                              "description": "Add estimation reasoning as comment"
                            },
                            "overwriteExisting": {
                              "type": "boolean",
                              "description": "Overwrite existing story points"
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "add-acceptance-criteria"
                            },
                            "criteriaFormat": {
                              "type": "string",
                              "enum": [
                                "gherkin",
                                "checklist",
                                "user-story"
                              ],
                              "description": "Criteria format (default: gherkin)"
                            },
                            "minCriteria": {
                              "type": "number",
                              "description": "Minimum criteria to generate (default: 3)"
                            },
                            "maxCriteria": {
                              "type": "number",
                              "description": "Maximum criteria to generate (default: 7)"
                            },
                            "appendToExisting": {
                              "type": "boolean",
                              "description": "Append to existing acceptance criteria"
                            }
                          },
                          "required": [
                            "type"
                          ]
                        }
                      ]
                    }
                  },
                  "itemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ],
                        "description": "Select all items"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        },
                        "description": "Array of indices [0,1,2]"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "daysInactiveMin": {
                            "type": "number"
                          },
                          "daysInactiveMax": {
                            "type": "number"
                          }
                        }
                      }
                    ],
                    "description": "Item selection: 'all', indices, or criteria (default: all)"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Preview operations without making changes (default true)"
                  },
                  "maxPreviewItems": {
                    "type": "number",
                    "description": "Maximum items to preview in dry-run (default 10)"
                  },
                  "stopOnError": {
                    "type": "boolean",
                    "description": "Stop executing actions if one fails (default true)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle",
                  "actions"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/link-workitems": {
      "post": {
        "summary": "link-workitems",
        "description": "üîê HANDLE-BASED LINKING: Create relationships between work items identified by two query handles. Supports multiple link types (Related, Parent, Child, Predecessor, Successor) and strategies (one-to-one, one-to-many, many-to-one, many-to-many). Essential for bulk relationship creation without ID hallucination risk.",
        "operationId": "link_workitems",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sourceQueryHandle": {
                    "type": "string",
                    "description": "Source query handle from query-wiql"
                  },
                  "targetQueryHandle": {
                    "type": "string",
                    "description": "Target query handle from query-wiql"
                  },
                  "linkType": {
                    "type": "string",
                    "enum": [
                      "Related",
                      "Parent",
                      "Child",
                      "Predecessor",
                      "Successor",
                      "Affects",
                      "Affected By"
                    ],
                    "description": "Type of relationship to create"
                  },
                  "sourceItemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ]
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "daysInactiveMin": {
                            "type": "number"
                          },
                          "daysInactiveMax": {
                            "type": "number"
                          }
                        }
                      }
                    ],
                    "description": "Select specific source items (default: all)"
                  },
                  "targetItemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ]
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "daysInactiveMin": {
                            "type": "number"
                          },
                          "daysInactiveMax": {
                            "type": "number"
                          }
                        }
                      }
                    ],
                    "description": "Select specific target items (default: all)"
                  },
                  "linkStrategy": {
                    "type": "string",
                    "enum": [
                      "one-to-one",
                      "one-to-many",
                      "many-to-one",
                      "many-to-many"
                    ],
                    "description": "Link strategy (default: one-to-one)"
                  },
                  "comment": {
                    "type": "string",
                    "description": "Optional comment to add to all linked work items"
                  },
                  "skipExistingLinks": {
                    "type": "boolean",
                    "description": "Skip links that already exist (default true)"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Preview operation without making changes (default true)"
                  },
                  "maxPreviewItems": {
                    "type": "number",
                    "description": "Maximum link operations to preview (default 10)"
                  }
                },
                "required": [
                  "sourceQueryHandle",
                  "targetQueryHandle",
                  "linkType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/undo-bulk": {
      "post": {
        "summary": "undo-bulk",
        "description": "üîÑ UNDO OPERATIONS: Undo bulk operations performed on a query handle. Can undo just the last operation (default) or all operations (undoAll: true). Reverts comments, field updates, assignments, state transitions, and iteration moves. Supports dry-run mode to preview undo actions. NOTE: Comments cannot be deleted via ADO API, so a reversal comment is added instead.",
        "operationId": "undo_bulk",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from wit-wiql-query with returnQueryHandle=true"
                  },
                  "undoAll": {
                    "type": "boolean",
                    "description": "Undo all operations performed on this query handle (default: false, only undoes last operation)"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Preview undo operation without making changes (default true)"
                  },
                  "maxPreviewItems": {
                    "type": "number",
                    "description": "Maximum items to preview in dry-run (default 10)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/undo-forensic": {
      "post": {
        "summary": "undo-forensic",
        "description": "üîç FORENSIC UNDO: Analyze work item revision history to detect and revert changes made by a specific user within a time window. Unlike regular undo, this tool works on ANY work items (not just those changed via MCP) by directly examining ADO revision history. Detects type changes, state changes, field updates, and optionally link operations. Automatically detects if changes have already been manually reverted and only reverts items that still have unwanted changes. Essential for recovering from bulk mistakes across multiple work items.",
        "operationId": "undo_forensic",
        "tags": [
          "Bulk Operations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from wit-wiql-query containing work items to analyze"
                  },
                  "changedBy": {
                    "type": "string",
                    "description": "Filter changes by user (display name or email, case-insensitive partial match)"
                  },
                  "afterTimestamp": {
                    "type": "string",
                    "description": "Only detect changes after this ISO timestamp (e.g., '2025-10-28T10:00:00Z')"
                  },
                  "beforeTimestamp": {
                    "type": "string",
                    "description": "Only detect changes before this ISO timestamp (e.g., '2025-10-29T18:00:00Z')"
                  },
                  "maxRevisions": {
                    "type": "number",
                    "description": "Maximum revisions to analyze per work item (default 50, max 200)"
                  },
                  "detectTypeChanges": {
                    "type": "boolean",
                    "description": "Detect work item type changes (default true)"
                  },
                  "detectStateChanges": {
                    "type": "boolean",
                    "description": "Detect state transitions (default true)"
                  },
                  "detectFieldChanges": {
                    "type": "boolean",
                    "description": "Detect field value changes (default true)"
                  },
                  "detectLinkChanges": {
                    "type": "boolean",
                    "description": "Detect parent/child link changes - requires additional API calls (default false)"
                  },
                  "fieldPaths": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Specific field paths to check (e.g., ['System.AssignedTo', 'System.Tags']). If not specified, checks all fields."
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Preview forensic analysis and revert actions without making changes (default true)"
                  },
                  "maxPreviewItems": {
                    "type": "number",
                    "description": "Maximum items to preview in dry-run (default 20, max 500)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/export-work-items": {
      "post": {
        "summary": "export-work-items",
        "description": "üìä EXPORT WORK ITEMS: Export work items to CSV, Excel (XLSX), or TSV format with field selection, relationships, comments, and history. Perfect for reporting, backup, and analysis in external tools like Excel or Google Sheets. Supports custom field selection, multiple Excel sheets, formatted headers, hyperlinks to Azure DevOps, and streaming for large exports.",
        "operationId": "export_work_items",
        "tags": [
          "Work Item Operations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from query-wiql with returnQueryHandle=true"
                  },
                  "itemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ],
                        "description": "Select all items"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        },
                        "description": "Array of indices [0,1,2]"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "daysInactiveMin": {
                            "type": "number"
                          },
                          "daysInactiveMax": {
                            "type": "number"
                          }
                        }
                      }
                    ],
                    "description": "Item selection: 'all', indices, or criteria (default: all)"
                  },
                  "format": {
                    "type": "string",
                    "enum": [
                      "csv",
                      "xlsx",
                      "tsv"
                    ],
                    "description": "Export format: csv (comma-separated), xlsx (Excel), or tsv (tab-separated)"
                  },
                  "outputPath": {
                    "type": "string",
                    "description": "Output file path. If not provided, generates in workspace directory with timestamp."
                  },
                  "fields": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Specific fields to export (e.g., ['System.Id', 'System.Title']). If not provided, exports standard fields."
                  },
                  "includeAllFields": {
                    "type": "boolean",
                    "description": "Include all available fields (default: false)"
                  },
                  "includeRelationships": {
                    "type": "boolean",
                    "description": "Include relationships in export (parent, children, related)"
                  },
                  "relationshipDepth": {
                    "type": "number",
                    "description": "Depth of child relationships to include (1 = immediate children, default: 1, max: 3)"
                  },
                  "includeComments": {
                    "type": "boolean",
                    "description": "Include work item comments/discussion"
                  },
                  "includeHistory": {
                    "type": "boolean",
                    "description": "Include work item revision history"
                  },
                  "includeAttachmentLinks": {
                    "type": "boolean",
                    "description": "Include attachment URLs"
                  },
                  "maxHistoryRevisions": {
                    "type": "number",
                    "description": "Maximum history revisions per work item (default: 10, max: 50)"
                  },
                  "excelOptions": {
                    "type": "object",
                    "description": "Excel-specific formatting options (only applies when format=xlsx)",
                    "properties": {
                      "multipleSheets": {
                        "type": "boolean",
                        "description": "Create multiple sheets (work items, relationships, comments, default: true)"
                      },
                      "formatHeaders": {
                        "type": "boolean",
                        "description": "Apply header formatting (bold, colored background, default: true)"
                      },
                      "freezePanes": {
                        "type": "boolean",
                        "description": "Freeze header row (default: true)"
                      },
                      "autoColumnWidth": {
                        "type": "boolean",
                        "description": "Auto-size columns to content (default: true)"
                      },
                      "includeHyperlinks": {
                        "type": "boolean",
                        "description": "Add hyperlinks to Azure DevOps work items (default: true)"
                      },
                      "sheetNames": {
                        "type": "object",
                        "properties": {
                          "workItems": {
                            "type": "string",
                            "description": "Name for work items sheet (default: 'Work Items')"
                          },
                          "relationships": {
                            "type": "string",
                            "description": "Name for relationships sheet (default: 'Relationships')"
                          },
                          "comments": {
                            "type": "string",
                            "description": "Name for comments sheet (default: 'Comments')"
                          },
                          "history": {
                            "type": "string",
                            "description": "Name for history sheet (default: 'WI_History' - Excel reserves 'History')"
                          }
                        }
                      }
                    }
                  },
                  "maxItems": {
                    "type": "number",
                    "description": "Maximum items to export (default: all selected items, max: 10000)"
                  },
                  "streamLargeExports": {
                    "type": "boolean",
                    "description": "Stream large exports to reduce memory usage (default: true)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle",
                  "format"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/analyze-workload": {
      "post": {
        "summary": "analyze-workload",
        "description": "AI-powered workload analysis to assess burnout risk, overspecialization, work-life balance issues, and professional health indicators. Accepts EITHER a single email (for individual analysis) OR an array of emails (for batch team analysis). When analyzing multiple people, processes up to 20 team members concurrently with configurable concurrency (default 5) and returns individual analyses plus team-level metrics (average health score, health distribution, top concerns). Automatically fetches completed and active work, calculates metrics, and provides actionable insights. Supports optional custom analysis intent (e.g., 'assess readiness for promotion', 'check for career growth opportunities'). Requires VS Code sampling support.",
        "operationId": "analyze_workload",
        "tags": [
          "AI-Powered Analysis"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "assignedToEmail": {
                    "oneOf": [
                      {
                        "type": "string",
                        "description": "Single email address to analyze (e.g., 'user@domain.com')"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Array of email addresses for batch analysis (1-20 people, e.g., ['user1@domain.com', 'user2@domain.com'])"
                      }
                    ],
                    "description": "Email address(es) of person/people to analyze. Provide a single string for individual analysis or an array for batch team analysis."
                  },
                  "analysisPeriodDays": {
                    "type": "number",
                    "description": "Number of days to analyze backwards from today (default 90, min 7, max 365)"
                  },
                  "additionalIntent": {
                    "type": "string",
                    "description": "Optional custom analysis intent (e.g., 'check for career growth opportunities', 'assess readiness for promotion', 'evaluate technical skill development'). Applied to all team members in batch mode."
                  },
                  "continueOnError": {
                    "type": "boolean",
                    "description": "[Batch mode only] Continue analyzing remaining people if one fails (default true)"
                  },
                  "maxConcurrency": {
                    "type": "number",
                    "description": "[Batch mode only] Maximum concurrent analyses (1-10, default 5). Lower values reduce API load."
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name (uses configured default if not provided)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name (uses configured default if not provided)"
                  },
                  "areaPath": {
                    "type": "string",
                    "description": "Area path to filter work items (uses configured default if not provided)"
                  }
                },
                "required": [
                  "assignedToEmail"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": true
      }
    },
    "/tools/discover-tools": {
      "post": {
        "summary": "discover-tools",
        "description": "ü§ñ AI-POWERED TOOL DISCOVERY: Find the right tools for your task using natural language OR list all available tools. When listAll=true, returns a concise inventory of all tools. When listAll=false (default), analyzes your intent and recommends the most appropriate tools with confidence scores and workflow guidance. Perfect when you're not sure which tool to use.",
        "operationId": "discover_tools",
        "tags": [
          "AI-Powered Analysis"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "intent": {
                    "type": "string",
                    "description": "Natural language description of what you want to accomplish (e.g., 'I want to find all stale bugs and update their priority'). Required unless listAll=true."
                  },
                  "listAll": {
                    "type": "boolean",
                    "description": "List all available tools without AI analysis (default false). When true, returns concise tool inventory instead of recommendations."
                  },
                  "context": {
                    "type": "string",
                    "description": "Additional context about your project, team, or specific requirements (only used when listAll=false)"
                  },
                  "maxRecommendations": {
                    "type": "number",
                    "description": "Maximum number of tool recommendations to return (1-10, default 3, only used when listAll=false)"
                  },
                  "includeExamples": {
                    "type": "boolean",
                    "description": "Include detailed usage examples for each recommended tool (default false, saves ~100-300 tokens per tool, only used when listAll=false)"
                  },
                  "filterCategory": {
                    "type": "string",
                    "enum": [
                      "creation",
                      "analysis",
                      "bulk-operations",
                      "query",
                      "ai-powered",
                      "all"
                    ],
                    "description": "Filter tools by category: creation (create/new items), analysis (analyze/detect/validate), bulk-operations (bulk updates), query (WIQL/OData), ai-powered (AI tools), all (no filter, default)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": true
      }
    },
    "/tools/analyze-query-handle": {
      "post": {
        "summary": "analyze-query-handle",
        "description": "ü§ñ AI-POWERED INTELLIGENT ANALYSIS: Perform custom AI-powered analysis on work items in a query handle using natural language intent. Accepts any analysis request (e.g., 'find work items ready for deployment', 'identify items needing more detail', 'assess technical debt risk'). Retrieves full context packages and provides intelligent, concise analysis based on your intent. Perfect for complex analysis requiring intelligence, not simple deterministic checks. Requires VS Code sampling support.",
        "operationId": "analyze_query_handle",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle containing work items to analyze (prevents ID hallucination)"
                  },
                  "intent": {
                    "type": "string",
                    "description": "Natural language description of the analysis you want (e.g., 'find items that are blockers for the release', 'identify work items with insufficient technical detail', 'assess readiness for AI assignment')"
                  },
                  "itemSelector": {
                    "description": "Item selection: 'all', array of IDs, or selection criteria object"
                  },
                  "maxItemsToAnalyze": {
                    "type": "number",
                    "description": "Maximum items to analyze (1-100, default 50)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of items to skip for pagination (default: 0)"
                  },
                  "includeContextPackages": {
                    "type": "boolean",
                    "description": "Retrieve full context packages for deeper analysis (default true)"
                  },
                  "contextDepth": {
                    "type": "string",
                    "enum": [
                      "basic",
                      "standard",
                      "deep"
                    ],
                    "description": "Context detail level: basic (fields only), standard (default, with relations/comments), deep (full history)"
                  },
                  "outputFormat": {
                    "type": "string",
                    "enum": [
                      "concise",
                      "detailed",
                      "json"
                    ],
                    "description": "Output format: concise (brief), detailed (comprehensive), json (structured)"
                  },
                  "confidenceThreshold": {
                    "type": "number",
                    "description": "Minimum confidence for recommendations (0-1, default 0.0)"
                  },
                  "temperature": {
                    "type": "number",
                    "description": "AI temperature (0-2, default 0.3 for factual)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization (uses config default if not provided)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project (uses config default if not provided)"
                  }
                },
                "required": [
                  "queryHandle",
                  "intent"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": true
      }
    },
    "/tools/analyze-bulk": {
      "post": {
        "summary": "analyze-bulk",
        "description": "üîê HANDLE-BASED ANALYSIS: Unified analysis tool for work items using query handles. Prevents ID hallucination in analysis workflows. Supports: effort (Story Points), velocity (completion trends), assignments (team workload), risks (blockers/stale), completion (state distribution), priorities (priority breakdown), hierarchy (parent-child validation), cluster-topics (smart topic grouping with query handles), work-item-intelligence (AI-powered completeness/enhancement analysis), assignment-suitability (Copilot assignment readiness), and parent-recommendation (intelligent parent matching). Forces safe analysis patterns.",
        "operationId": "analyze_bulk",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from query-wiql (ensures analysis is based on real query results, not hallucinated IDs)"
                  },
                  "analysisType": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "effort",
                        "velocity",
                        "assignments",
                        "risks",
                        "completion",
                        "priorities",
                        "hierarchy",
                        "cluster-topics",
                        "work-item-intelligence",
                        "assignment-suitability",
                        "parent-recommendation"
                      ]
                    },
                    "description": "Analysis types: effort (Story Points breakdown), velocity (completion trends), assignments (team workload), risks (blockers/stale items), completion (state distribution), priorities (priority breakdown), hierarchy (parent-child type validation and state progression checks), cluster-topics (smart topic clustering with query handles per topic), work-item-intelligence (AI-powered work item completeness and enhancement analysis), assignment-suitability (AI-powered Copilot assignment readiness), parent-recommendation (AI-powered intelligent parent finder)"
                  },
                  "maxItemsToAnalyze": {
                    "type": "number",
                    "description": "Maximum number of items to analyze from query handle (default: all items, max: 1000)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of items to skip for pagination (default: 0)"
                  },
                  "validateTypes": {
                    "type": "boolean",
                    "description": "Validate parent-child type relationships (only for hierarchy analysis, default true)"
                  },
                  "validateStates": {
                    "type": "boolean",
                    "description": "Validate state progression consistency (only for hierarchy analysis, default true)"
                  },
                  "returnQueryHandles": {
                    "type": "boolean",
                    "description": "Create query handles for violation categories (only for hierarchy analysis, default true)"
                  },
                  "includeViolationDetails": {
                    "type": "boolean",
                    "description": "Include full violation details in response (only for hierarchy analysis, default false)"
                  },
                  "intelligenceAnalysisType": {
                    "type": "string",
                    "enum": [
                      "completeness",
                      "ai-readiness",
                      "enhancement",
                      "categorization",
                      "full"
                    ],
                    "description": "Type of work item intelligence analysis (only for work-item-intelligence, default: full)"
                  },
                  "contextInfo": {
                    "type": "string",
                    "description": "Additional context for work item analysis (only for work-item-intelligence)"
                  },
                  "enhanceDescription": {
                    "type": "boolean",
                    "description": "Generate enhanced descriptions (only for work-item-intelligence, default: false)"
                  },
                  "outputFormat": {
                    "type": "string",
                    "enum": [
                      "detailed",
                      "json"
                    ],
                    "description": "Output format for assignment suitability analysis (only for assignment-suitability, default: detailed)"
                  },
                  "repository": {
                    "type": "string",
                    "description": "Repository name to discover specialized agents for recommendation (only for assignment-suitability)"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "Preview parent recommendations without creating query handle (only for parent-recommendation, default: false)"
                  },
                  "areaPath": {
                    "type": "string",
                    "description": "Area path to search for parent candidates (only for parent-recommendation)"
                  },
                  "includeSubAreas": {
                    "type": "boolean",
                    "description": "Include sub-areas in parent search (only for parent-recommendation, default: false - enforces same area path)"
                  },
                  "maxParentCandidates": {
                    "type": "number",
                    "description": "Maximum parent candidates to analyze per child (only for parent-recommendation, default: 20, min: 3, max: 50)"
                  },
                  "maxRecommendations": {
                    "type": "number",
                    "description": "Maximum parent recommendations per child (only for parent-recommendation, default: 3, min: 1, max: 5)"
                  },
                  "parentWorkItemTypes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Specific parent work item types to search for (only for parent-recommendation, e.g., ['Epic', 'Feature'])"
                  },
                  "searchScope": {
                    "type": "string",
                    "enum": [
                      "area",
                      "project",
                      "iteration"
                    ],
                    "description": "Scope of parent search (only for parent-recommendation, default: area)"
                  },
                  "iterationPath": {
                    "type": "string",
                    "description": "Iteration path filter when searchScope='iteration' (only for parent-recommendation)"
                  },
                  "requireActiveParents": {
                    "type": "boolean",
                    "description": "Only consider parents in Active/New/Committed states (only for parent-recommendation, default: true)"
                  },
                  "confidenceThreshold": {
                    "type": "number",
                    "description": "Minimum confidence score for parent recommendations (only for parent-recommendation, 0-1, default: 0.5)"
                  },
                  "minClusterSize": {
                    "type": "number",
                    "description": "Minimum items per topic cluster (only for cluster-topics, default: 2, min: 2, max: 20)"
                  },
                  "maxClusters": {
                    "type": "number",
                    "description": "Maximum number of topic clusters (only for cluster-topics, default: 20, min: 2, max: 50)"
                  },
                  "clusteringMethod": {
                    "type": "string",
                    "enum": [
                      "keywords",
                      "ai-semantic"
                    ],
                    "description": "Clustering method (only for cluster-topics): keywords (fast, deterministic) or ai-semantic (slower, requires sampling, default: keywords)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle",
                  "analysisType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/list-handles": {
      "post": {
        "summary": "list-handles",
        "description": "üìã HANDLE REGISTRY: List all active query handles to track and manage them. Shows handle statistics, cleanup status, and provides guidance on handle management. Makes handles feel like persistent resources rather than ephemeral strings. Supports pagination for large numbers of handles.",
        "operationId": "list_handles",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "includeExpired": {
                    "type": "boolean",
                    "description": "Include expired handles in the list (default false). Useful for debugging handle lifecycle issues."
                  },
                  "top": {
                    "type": "number",
                    "description": "Maximum number of handles to return (default 50, max 200)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of handles to skip for pagination (default 0)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/inspect-handle": {
      "post": {
        "summary": "inspect-handle",
        "description": "üîç UNIFIED HANDLE INFO: Get comprehensive information about a query handle in one call. Default mode provides inspection data (work item preview, statistics, selection hints). With detailed=true, adds validation data and optional selection analysis. Replaces separate validate/inspect/select tools for simpler workflows.",
        "operationId": "inspect_handle",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle to get information about (from query-wiql with returnQueryHandle=true)"
                  },
                  "detailed": {
                    "type": "boolean",
                    "description": "Include detailed validation data and selection analysis (default false for concise output)"
                  },
                  "includePreview": {
                    "type": "boolean",
                    "description": "Include preview of first 10 work items with their context data (default true)"
                  },
                  "includeStats": {
                    "type": "boolean",
                    "description": "Include staleness statistics and analysis metadata (default true)"
                  },
                  "includeExamples": {
                    "type": "boolean",
                    "description": "Include selection examples showing how to use itemSelector (default false, saves ~300 tokens)"
                  },
                  "itemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ],
                        "description": "Select all items (for selection analysis when detailed=true)"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        },
                        "maxItems": 100,
                        "description": "Array of zero-based indices [0,1,2]"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Filter by work item states"
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Filter by title keywords"
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Filter by tags"
                          },
                          "daysInactiveMin": {
                            "type": "number",
                            "description": "Minimum days inactive"
                          },
                          "daysInactiveMax": {
                            "type": "number",
                            "description": "Maximum days inactive"
                          }
                        },
                        "description": "Criteria-based selection object"
                      }
                    ],
                    "description": "Optional: When provided with detailed=true, shows selection analysis"
                  },
                  "previewCount": {
                    "type": "number",
                    "description": "Number of items to preview in selection analysis (default 10)"
                  },
                  "includeSampleItems": {
                    "type": "boolean",
                    "description": "Fetch and include sample items from ADO API when detailed=true (default false)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "queryHandle"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-context-bulk": {
      "post": {
        "summary": "get-context-bulk",
        "description": "üîê HANDLE-BASED CONTEXT: Retrieve full context packages for multiple work items identified by a query handle. Returns comprehensive work item data including descriptions, comments, history, relations, children, and parent for each item. Essential for deep analysis workflows that need complete context without ID hallucination risk.",
        "operationId": "get_context_bulk",
        "tags": [
          "Query Handles"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queryHandle": {
                    "type": "string",
                    "description": "Query handle from query-wiql with returnQueryHandle=true"
                  },
                  "itemSelector": {
                    "oneOf": [
                      {
                        "type": "string",
                        "enum": [
                          "all"
                        ],
                        "description": "Select all items"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        },
                        "description": "Array of indices [0,1,2]"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "states": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "titleContains": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "daysInactiveMin": {
                            "type": "number"
                          },
                          "daysInactiveMax": {
                            "type": "number"
                          }
                        }
                      }
                    ],
                    "description": "Item selection: 'all', indices, or criteria"
                  },
                  "includeHistory": {
                    "type": "boolean",
                    "description": "Include recent change history (disabled by default to save context)"
                  },
                  "maxHistoryRevisions": {
                    "type": "number",
                    "description": "Maximum revisions when history enabled (default 5)"
                  },
                  "includeComments": {
                    "type": "boolean",
                    "description": "Include work item comments (default true)"
                  },
                  "includeRelations": {
                    "type": "boolean",
                    "description": "Include related links (default true)"
                  },
                  "includeChildren": {
                    "type": "boolean",
                    "description": "Include child hierarchy (default true)"
                  },
                  "includeParent": {
                    "type": "boolean",
                    "description": "Include parent details (default true)"
                  },
                  "includeExtendedFields": {
                    "type": "boolean",
                    "description": "Include extended field set (default false)"
                  },
                  "maxPreviewItems": {
                    "type": "number",
                    "description": "Maximum items to include in response (default 10, max 50)"
                  }
                },
                "required": [
                  "queryHandle"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-config": {
      "post": {
        "summary": "get-config",
        "description": "Get current MCP server configuration including area paths, repositories, GitHub Copilot settings, and other defaults that agents can use for work item creation",
        "operationId": "get_config",
        "tags": [
          "Copilot Integration"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "includeSensitive": {
                    "type": "boolean",
                    "description": "Include potentially sensitive configuration values"
                  },
                  "section": {
                    "type": "string",
                    "enum": [
                      "all",
                      "azureDevOps",
                      "gitRepository",
                      "gitHubCopilot"
                    ],
                    "description": "Specific configuration section to retrieve"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-team-members": {
      "post": {
        "summary": "get-team-members",
        "description": "Discover team members by analyzing work item assignments. Returns a clean array of email addresses, automatically filtering out GitHub Copilot and null values. Useful for batch analysis, sprint planning, and understanding team composition.",
        "operationId": "get_team_members",
        "tags": [
          "AI-Powered Analysis"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "areaPath": {
                    "type": "string",
                    "description": "Area path to filter team members (uses config default if not provided)"
                  },
                  "dateRangeStart": {
                    "type": "string",
                    "description": "Start date for activity filter (ISO format YYYY-MM-DD, default: 90 days ago)"
                  },
                  "dateRangeEnd": {
                    "type": "string",
                    "description": "End date for activity filter (ISO format YYYY-MM-DD, default: today)"
                  },
                  "activeOnly": {
                    "type": "boolean",
                    "description": "Only include members with assigned work items in date range (default: true)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization (optional, uses config default)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project (optional, uses config default)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": true
      }
    },
    "/tools/get-prompts": {
      "post": {
        "summary": "get-prompts",
        "description": "[DEBUG ONLY] Retrieve pre-filled prompt templates by name or list all available prompts. This tool is disabled in production and only available when MCP_ENABLE_DEBUG_TOOLS=1 environment variable is set. Useful for testing prompt templates or for agents that need direct access to prompt content for specialized use cases.",
        "operationId": "get_prompts",
        "tags": [
          "Work Item Operations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "promptName": {
                    "type": "string",
                    "description": "Name of the prompt to retrieve (omit to get all prompts)"
                  },
                  "includeContent": {
                    "type": "boolean",
                    "description": "Whether to include the filled prompt content (default: true)"
                  },
                  "args": {
                    "type": "object",
                    "description": "Arguments to fill in prompt template variables (merged with config defaults)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/list-agents": {
      "post": {
        "summary": "list-agents",
        "description": "Discover available specialized Copilot agents in an Azure DevOps repository by scanning /.azuredevops/policies directory. Returns agent names and descriptions parsed from YAML metadata.",
        "operationId": "list_agents",
        "tags": [
          "Copilot Integration"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "repository": {
                    "type": "string",
                    "description": "Repository name or ID to scan for specialized agents"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization (optional, uses default from config)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project (optional, uses default from config)"
                  }
                },
                "required": [
                  "repository"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/discover-custom-fields": {
      "post": {
        "summary": "discover-custom-fields",
        "description": "Discover all custom fields in an Azure DevOps project, including field metadata (name, type, description), usage across work item types, picklist values, and field categories. Useful for field audits, documentation, and understanding project configuration.",
        "operationId": "discover_custom_fields",
        "tags": [
          "Configuration"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "includeSystemFields": {
                    "type": "boolean",
                    "description": "Include system fields (System.*) in results (default: false)"
                  },
                  "includeMicrosoftFields": {
                    "type": "boolean",
                    "description": "Include Microsoft VSTS fields (Microsoft.*) in results (default: true)"
                  },
                  "includePicklistValues": {
                    "type": "boolean",
                    "description": "Include allowed values for picklist fields (default: true)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization (optional, uses config default)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project (optional, uses config default)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/export-field-schema": {
      "post": {
        "summary": "export-field-schema",
        "description": "Export field definitions as structured JSON or YAML schema for documentation, migration, or template generation. Includes field metadata, types, picklist values, and usage across work item types.",
        "operationId": "export_field_schema",
        "tags": [
          "Work Item Operations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "format": {
                    "type": "string",
                    "enum": [
                      "json",
                      "yaml"
                    ],
                    "description": "Export format (default: json)"
                  },
                  "outputPath": {
                    "type": "string",
                    "description": "File path to save exported schema (optional, returns in response if not provided)"
                  },
                  "includeSystemFields": {
                    "type": "boolean",
                    "description": "Include system fields in export (default: false)"
                  },
                  "includeMicrosoftFields": {
                    "type": "boolean",
                    "description": "Include Microsoft VSTS fields in export (default: true)"
                  },
                  "includeUsageMetadata": {
                    "type": "boolean",
                    "description": "Include work item type usage metadata (default: true)"
                  },
                  "prettyPrint": {
                    "type": "boolean",
                    "description": "Format output with indentation (default: true)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization (optional, uses config default)"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project (optional, uses config default)"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-pr-diff": {
      "post": {
        "summary": "get-pr-diff",
        "description": "üìÑ PULL REQUEST DIFF: Fetch the complete diff for a pull request with actual code changes. Returns file-by-file unified diffs showing additions, deletions, and modifications by default (set includeDiffs=false for just file list). Supports side-by-side format, path filtering, and pagination. Essential for AI-powered code review workflows and understanding what changed in a PR.",
        "operationId": "get_pr_diff",
        "tags": [
          "Work Item Operations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "repository": {
                    "type": "string",
                    "description": "Repository name or ID containing the pull request"
                  },
                  "pullRequestId": {
                    "type": "number",
                    "description": "Pull request ID to fetch diff for"
                  },
                  "iterationId": {
                    "type": "number",
                    "description": "Optional: Specific iteration ID to fetch. If not provided, fetches the latest iteration's diff"
                  },
                  "includeContentMetadata": {
                    "type": "boolean",
                    "description": "Include additional file metadata (default: false)"
                  },
                  "includeDiffs": {
                    "type": "boolean",
                    "description": "Include actual file diffs for each changed file (default: true). Set to false for just file list."
                  },
                  "diffFormat": {
                    "type": "string",
                    "enum": [
                      "unified",
                      "sideBySide"
                    ],
                    "description": "Diff format: 'unified' for standard unified diff, 'sideBySide' for side-by-side comparison (default: unified)"
                  },
                  "contextLines": {
                    "type": "number",
                    "description": "Number of context lines around changes in unified diff (default: 3, max: 20)"
                  },
                  "maxDiffLines": {
                    "type": "number",
                    "description": "Maximum total diff lines to include per file (default: 1000, max: 10000). Files exceeding this show truncation warning."
                  },
                  "pathFilter": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Only include diffs for files matching these path patterns (glob-style, e.g., ['src/**/*.ts', 'tests/**'])"
                  },
                  "top": {
                    "type": "number",
                    "description": "Maximum number of changed files to return (default: 100, max: 1000)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of changed files to skip for pagination (default: 0)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "repository",
                  "pullRequestId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    },
    "/tools/get-pr-comments": {
      "post": {
        "summary": "get-pr-comments",
        "description": "üí¨ AI-POWERED PR COMMENTS: Fetch and filter pull request discussion threads and comments using natural language or explicit criteria. Supports intelligent filtering by PR status (active/completed/abandoned), thread status (active/resolved/closed), dates, branches, and reviewers. Perfect for finding unresolved feedback, tracking review conversations, or analyzing discussion patterns. Modes: (1) Natural language: 'show active threads from PRs targeting main this week', (2) Specific PR: provide pullRequestId, (3) Search: use explicit filters like status, branches, dates.",
        "operationId": "get_pr_comments",
        "tags": [
          "AI-Powered Analysis"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string",
                    "description": "Natural language description of what PRs and comments to find (AI-powered). Example: 'Show active threads from PRs targeting main in the last week'"
                  },
                  "repository": {
                    "type": "string",
                    "description": "Repository name or ID (required for specific PR, optional for search mode)"
                  },
                  "pullRequestId": {
                    "type": "number",
                    "description": "Specific PR ID to fetch comments from (optional - omit to search for PRs)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "abandoned",
                      "completed",
                      "notSet",
                      "all"
                    ],
                    "description": "PR status filter for search mode (default: active)"
                  },
                  "creatorId": {
                    "type": "string",
                    "description": "Filter PRs by creator GUID (search mode only)"
                  },
                  "reviewerId": {
                    "type": "string",
                    "description": "Filter PRs by reviewer GUID (search mode only)"
                  },
                  "sourceRefName": {
                    "type": "string",
                    "description": "Filter PRs by source branch (e.g., 'refs/heads/feature/my-branch')"
                  },
                  "targetRefName": {
                    "type": "string",
                    "description": "Filter PRs by target branch (e.g., 'refs/heads/main')"
                  },
                  "minTime": {
                    "type": "string",
                    "description": "Filter PRs created after this date (ISO format YYYY-MM-DDTHH:mm:ssZ)"
                  },
                  "maxTime": {
                    "type": "string",
                    "description": "Filter PRs created before this date (ISO format YYYY-MM-DDTHH:mm:ssZ)"
                  },
                  "threadStatusFilter": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "unknown",
                        "active",
                        "fixed",
                        "wontFix",
                        "closed",
                        "byDesign",
                        "pending"
                      ]
                    },
                    "description": "Filter threads by status (e.g., ['active', 'pending'] for unresolved threads)"
                  },
                  "includeSystemComments": {
                    "type": "boolean",
                    "description": "Include system-generated comments (default: false)"
                  },
                  "includeDeleted": {
                    "type": "boolean",
                    "description": "Include deleted threads (default: false)"
                  },
                  "maxPRsToFetch": {
                    "type": "number",
                    "description": "Maximum PRs to fetch in search mode (default: 10, max: 100)"
                  },
                  "top": {
                    "type": "number",
                    "description": "Maximum PRs per page for search (default: 50)"
                  },
                  "skip": {
                    "type": "number",
                    "description": "Number of PRs to skip for pagination (default: 0)"
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": true
      }
    },
    "/tools/add-pr-comment": {
      "post": {
        "summary": "add-pr-comment",
        "description": "‚úçÔ∏è ADD PR COMMENT: Create a new comment thread on a pull request with optional GitHub Copilot @mention tagging. Supports both general PR-level comments and line-specific code comments. When mentionCopilot=true, automatically formats the comment to properly tag GitHub Copilot using Azure DevOps mention syntax, ensuring Copilot receives notifications. Can auto-discover Copilot GUID or use provided value. Perfect for requesting Copilot reviews, asking questions, or providing feedback on PRs.",
        "operationId": "add_pr_comment",
        "tags": [
          "Copilot Integration"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "repository": {
                    "type": "string",
                    "description": "Repository name or ID containing the pull request"
                  },
                  "pullRequestId": {
                    "type": "number",
                    "description": "Pull request ID to add comment to"
                  },
                  "comment": {
                    "type": "string",
                    "description": "Comment text to add"
                  },
                  "mentionCopilot": {
                    "type": "boolean",
                    "description": "Automatically tag GitHub Copilot in the comment using @mention (default: false)"
                  },
                  "copilotGuid": {
                    "type": "string",
                    "description": "GitHub Copilot GUID in format 'localId@originId' (auto-discovered if not provided and mentionCopilot=true)"
                  },
                  "copilotDisplayName": {
                    "type": "string",
                    "description": "Display name for Copilot mention (default: 'GitHub Copilot')"
                  },
                  "threadContext": {
                    "type": "object",
                    "properties": {
                      "filePath": {
                        "type": "string",
                        "description": "File path to comment on (for line-specific comments)"
                      },
                      "rightFileStart": {
                        "type": "object",
                        "properties": {
                          "line": {
                            "type": "number",
                            "description": "Starting line number in new version of file"
                          },
                          "offset": {
                            "type": "number",
                            "description": "1-based character offset within the line. Optional - when provided, must be ‚â•1. Omit for line-only comments. Example: offset=5 means 5th character on the line."
                          }
                        },
                        "required": [
                          "line"
                        ],
                        "description": "Starting line position in new version of file"
                      },
                      "rightFileEnd": {
                        "type": "object",
                        "properties": {
                          "line": {
                            "type": "number",
                            "description": "Ending line number in new version of file"
                          },
                          "offset": {
                            "type": "number",
                            "description": "1-based character offset within the line. Optional - when provided, must be ‚â•1. Omit for line-only comments. Example: offset=10 means 10th character on the line."
                          }
                        },
                        "required": [
                          "line"
                        ],
                        "description": "Ending line position in new version of file"
                      }
                    },
                    "description": "Optional context for line-specific comments. Omit for general PR-level comments."
                  },
                  "organization": {
                    "type": "string",
                    "description": "Azure DevOps organization name"
                  },
                  "project": {
                    "type": "string",
                    "description": "Azure DevOps project name"
                  }
                },
                "required": [
                  "repository",
                  "pullRequestId",
                  "comment"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Result data (structure varies by tool)"
                    },
                    "metadata": {
                      "type": "object",
                      "description": "Operation metadata"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Error messages if any"
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Warning messages if any"
                    }
                  },
                  "required": [
                    "success",
                    "errors",
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid input parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-ai-powered": false
      }
    }
  }
}