
> enhanced-ado-mcp-server@2.1.0 pretest
> npm run generate-openapi


> enhanced-ado-mcp-server@2.1.0 generate-openapi
> tsx scripts/generate-openapi.ts

≡ƒÜÇ Generating OpenAPI specification...

≡ƒôü Creating output directory: C:\Users\ameliapayne\ADO-Work-Item-MSP\docs\api
≡ƒô¥ Generating OpenAPI 3.0 specification...
Γ£ô Generated OpenAPI spec: C:\Users\ameliapayne\ADO-Work-Item-MSP\docs\api\openapi.json

≡ƒôª Generating individual JSON schemas...
Γ£ô Generated schema: create-workitem.json
Γ£ô Generated schema: assign-copilot.json
Γ£ô Generated schema: get-context.json
Γ£ô Generated schema: extract-security-links.json
Γ£ô Generated schema: query-wiql.json
Γ£ô Generated schema: query-odata.json
Γ£ô Generated schema: execute-bulk-operations.json
Γ£ô Generated schema: link-workitems.json
Γ£ô Generated schema: undo-bulk.json
Γ£ô Generated schema: undo-forensic.json
Γ£ô Generated schema: export-work-items.json
Γ£ô Generated schema: analyze-workload.json
Γ£ô Generated schema: discover-tools.json
Γ£ô Generated schema: analyze-query-handle.json
Γ£ô Generated schema: analyze-bulk.json
Γ£ô Generated schema: list-handles.json
Γ£ô Generated schema: inspect-handle.json
Γ£ô Generated schema: get-context-bulk.json
Γ£ô Generated schema: get-config.json
Γ£ô Generated schema: get-team-members.json
Γ£ô Generated schema: get-prompts.json
Γ£ô Generated schema: list-agents.json
Γ£ô Generated schema: discover-custom-fields.json
Γ£ô Generated schema: export-field-schema.json
Γ£ô Generated schema: get-pr-diff.json
Γ£ô Generated schema: get-pr-comments.json
Γ£ô Generated schema: add-pr-comment.json
Γ£ô Generated schema index: index.json (27 schemas)

Γ£à OpenAPI generation complete!

Generated files:
  - docs/api/openapi.json (27 endpoints)
  - docs/api/schemas/*.json (27 schemas)

Output directory: C:\Users\ameliapayne\ADO-Work-Item-MSP\docs\api

You can now use these files to:
  - Generate API clients
  - Create API documentation
  - Validate requests/responses
  - Import into tools like Swagger UI, Postman, etc.

> enhanced-ado-mcp-server@2.1.0 test
> jest export-work-items.handler.test.ts

FAIL test/unit/handlers/export-work-items.handler.test.ts
  ΓùÅ Test suite failed to run

    test/unit/handlers/export-work-items.handler.test.ts:225:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    225         new Error('EACCES: permission denied, open \'/root/protected/export.csv\'')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:251:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    251         new Error('ENOSPC: no space left on device')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:277:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    277         new Error('ENOENT: no such file or directory')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:303:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    303         new Error('EROFS: read-only file system')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:335:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    335         new Error('Worksheet name exceeds 31 character limit')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:362:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    362         new Error('Excel row limit (1,048,576) exceeded')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:387:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    387         new Error('Failed to create workbook: Internal library error')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:414:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    414         new Error('Request timeout after 30000ms while fetching work items')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:439:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    439         new Error('HTTP 429: Too Many Requests. Rate limit exceeded.')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:465:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    465         new Error('Work item 999 not found or access denied')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:494:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    494         new Error('JavaScript heap out of memory')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:520:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    520         new Error('Stream write error: Connection closed')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:548:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    548         new Error('Field "NonExistent.Field" not found in work item type definition')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:575:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    575         new Error('Circular relationship detected at depth 3')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:601:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    601         new Error('Comments API unavailable or access denied')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:628:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    628         new Error('History API timeout after fetching 30 revisions')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:662:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    662         new Error('Missing required configuration: organization')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    test/unit/handlers/export-work-items.handler.test.ts:694:9 - error TS2345: Argument of type 'Error' is not assignable to parameter of type 'never'.

    694         new Error('Missing required configuration: project')
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        4.013 s
Ran all test suites matching /export-work-items.handler.test.ts/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
