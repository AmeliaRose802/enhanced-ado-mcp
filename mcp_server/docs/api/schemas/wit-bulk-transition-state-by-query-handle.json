{
  "type": "object",
  "properties": {
    "queryHandle": {
      "type": "string",
      "description": "Query handle from wit-get-work-items-by-query-wiql with returnQueryHandle=true"
    },
    "targetState": {
      "type": "string",
      "description": "Target state to transition to (e.g., 'Resolved', 'Closed', 'Done')"
    },
    "reason": {
      "type": "string",
      "description": "Reason for state transition (e.g., 'Fixed', 'Completed'). Required for some transitions."
    },
    "comment": {
      "type": "string",
      "description": "Optional comment to add when transitioning state"
    },
    "itemSelector": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "all"
          ],
          "description": "Select all items"
        },
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "description": "Array of indices [0,1,2]"
        },
        {
          "type": "object",
          "properties": {
            "states": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "titleContains": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "daysInactiveMin": {
              "type": "number"
            },
            "daysInactiveMax": {
              "type": "number"
            }
          }
        }
      ],
      "description": "Item selection: 'all', indices, or criteria (default: all)"
    },
    "validateTransitions": {
      "type": "boolean",
      "description": "Validate state transitions are allowed (default true)"
    },
    "dryRun": {
      "type": "boolean",
      "description": "Preview operation without making changes (default true)"
    },
    "maxPreviewItems": {
      "type": "number",
      "description": "Maximum items to preview in dry-run (default 5)"
    }
  },
  "required": [
    "queryHandle",
    "targetState"
  ],
  "$id": "#/components/schemas/wit-bulk-transition-state-by-query-handle",
  "title": "wit-bulk-transition-state-by-query-handle",
  "description": "Safely transition multiple work items to a new state using query handle. Common operations: close bugs, move tasks to done, resolve items. Validates state transitions before applying and supports dry-run mode for safety.",
  "category": "Query Handles",
  "aiPowered": false
}