{
  "type": "object",
  "properties": {
    "queryHandle": {
      "type": "string",
      "description": "Query handle from wit-get-work-items-by-query-wiql with returnQueryHandle=true"
    },
    "itemSelector": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "all"
          ],
          "description": "Select all items"
        },
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "description": "Array of indices [0,1,2]"
        },
        {
          "type": "object",
          "properties": {
            "states": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "titleContains": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "daysInactiveMin": {
              "type": "number"
            },
            "daysInactiveMax": {
              "type": "number"
            }
          }
        }
      ],
      "description": "Item selection: 'all', indices, or criteria"
    },
    "includeHistory": {
      "type": "boolean",
      "description": "Include recent change history (disabled by default to save context)"
    },
    "maxHistoryRevisions": {
      "type": "number",
      "description": "Maximum revisions when history enabled (default 5)"
    },
    "includeComments": {
      "type": "boolean",
      "description": "Include work item comments (default true)"
    },
    "includeRelations": {
      "type": "boolean",
      "description": "Include related links (default true)"
    },
    "includeChildren": {
      "type": "boolean",
      "description": "Include child hierarchy (default true)"
    },
    "includeParent": {
      "type": "boolean",
      "description": "Include parent details (default true)"
    },
    "includeExtendedFields": {
      "type": "boolean",
      "description": "Include extended field set (default false)"
    },
    "maxPreviewItems": {
      "type": "number",
      "description": "Maximum items to include in response (default 10, max 50)"
    }
  },
  "required": [
    "queryHandle"
  ],
  "$id": "#/components/schemas/wit-get-context-packages-by-query-handle",
  "title": "wit-get-context-packages-by-query-handle",
  "description": "üîê HANDLE-BASED CONTEXT: Retrieve full context packages for multiple work items identified by a query handle. Returns comprehensive work item data including descriptions, comments, history, relations, children, and parent for each item. Essential for deep analysis workflows that need complete context without ID hallucination risk.",
  "category": "Query Handles",
  "aiPowered": false
}